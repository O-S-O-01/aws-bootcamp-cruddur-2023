// The Dev Container format allows you to configure your environment. At the heart of it
// is a Docker image or Dockerfile which controls the tools available in your environment.
//
// See https://aka.ms/devcontainer.json for more information.
{
	"name": "Ona",
	// Use "image": "mcr.microsoft.com/devcontainers/base:ubuntu-24.04",
	// instead of the build to use a pre-built image.
	"build": {
        "context": ".",
        "dockerfile": "Dockerfile"
    },
	"customizations": {
		"vscode": {
			"extensions": [
				"ms-python.python",
				"ms-python.vscode-pylance",
				"ms-python.isort",
				"ms-python.black-formatter",
				"ms-python.flake8",
				"ms-python.autopep8",
				"ms-python.pylint",
				"ms-python.vscode-pylance",
				"ms-vscode-remote.remote-containers",
				"ms-vscode-remote.remote-ssh",
				"ms-vscode-remote.remote-ssh-edit",
				"ms-vscode-remote.remote-wsl",
				"ms-vscode-remote.vscode-remote-extensionpack",
				"ms-vscode-remote.remote-ssh-explorer",
				"ms-vscode-remote.remote-ssh-remote-ssh-edit",
				"ms-vscode-remote.remote-ssh-remote-ssh-explorer",
				"ms-vscode-remote.remote-ssh-remote-ssh-history",
				"ms-vscode-remote.remote-ssh-remote-ssh-remote-ssh-edit",
				"ms-vscode-remote.remote-ssh-remote-ssh-remote-ssh-explorer",
				"ms-vscode-remote.remote-ssh-remote-ssh-remote-ssh-history",
				"ms-vscode-remote.remote-ssh-remote-ssh-remote-ssh-server",
				"ms-vscode-remote.remote-ssh-remote-ssh-server",
				"ms-vscode-remote.remote-ssh-server",
				"ms-vscode-remote.remote-wsl",
				"ms-vscode-remote.remote-wsl-explorer",
				"ms-vscode-remote.remote-wsl-history",
				"ms-vscode-remote.remote-wsl-remote-wsl-edit",
				"ms-vscode-remote.remote-wsl-remote-wsl-explorer",
				"ms-vscode-remote.remote-wsl-remote-wsl-history",
				"ms-vscode-remote.remote-wsl-remote-wsl-server",
				"ms-vscode-remote.remote-wsl-server",
				"ms-vscode-remote.remote-wsl-terminal",
				"ms-vscode-remote.remote-wsl-terminal",
				"ms-vscode-remote.remote-wsl-terminal"
			]
		}
	},
	// Features add additional features to your environment. See https://containers.dev/features
	// Beware: features are not supported on all platforms and may have unintended side-effects.
	"features": {
      "ghcr.io/devcontainers/features/docker-in-docker": {
        "moby": false
      }
    },
	"runArgs": [
		"--init",
		"-v", "/var/run/docker.sock:/var/run/docker.sock"
	],
	"remoteUser": "vscode"
}